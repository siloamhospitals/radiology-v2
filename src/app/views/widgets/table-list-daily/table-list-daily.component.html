
<table class="table table-bordered mt-3 table-list-radiology">
  <thead class="border-0 bg-secondary">
    <tr>
      <td colspan="2" class="py-3 border-0">Appointment</td>
      <td class="py-3 border-0">Patient</td>
      <td class="py-3 border-0">DoB</td>
      <td class="py-3 border-0">Local MR No</td>
      <td class="py-3 border-0">Examination</td>
      <td class="py-3 border-0">Note</td>
      <td class="py-3 border-0">Status</td>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngIf="!(scheduleList && scheduleList.length) && !isLoading" >
      <tr>
        <td colspan="100%" class="text-center p-3">No data from this section</td>
      </tr>
    </ng-container>

    <app-loading [showLoad]="isLoading" ></app-loading>

    <ng-container *ngFor="let item of scheduleList; let i=index" >
      <tr *ngFor="let schedule of item.items; let j = index;" class="item-hover" >
        <td *ngIf="j % item.rowSpan == 0" [attr.rowspan]="item.rowSpan" style="vertical-align: middle; width: 25px; background: #fff !important;" class="text-right">
          {{ item.hour }}
        </td>
        <td style="width: 100px; vertical-align: middle;">{{ schedule.fromTime + ' - ' + schedule.toTime }}</td>
        <ng-container *ngIf="schedule.rowSpan">
          <td [attr.rowspan]="schedule.rowSpan"
          (click)="isRowScheduled(schedule) ? detailSchedule(schedule) : createAppointment(schedule)"
          [ngClass]="isRowScheduled(schedule) ? 'table-td table-td-scheduled cursor-pointer item-indicator-primary' : 'cursor-pointer'" >
          <span [class.text-success]="!schedule.patient"  >
            {{ schedule.patient || 'Tersedia' }}
          </span>
        </td>
          <td [attr.rowspan]="schedule.rowSpan" [ngClass]="isRowScheduled(schedule) ? 'table-td table-td-scheduled' : '' " >{{ schedule.dob }}</td>
          <td [attr.rowspan]="schedule.rowSpan" [ngClass]="isRowScheduled(schedule) ? 'table-td table-td-scheduled' : '' " >{{ schedule.localMrNo }}</td>
          <td [attr.rowspan]="schedule.rowSpan" [ngClass]="isRowScheduled(schedule) ? 'table-td table-td-scheduled' : '' " >{{ schedule.examination }}</td>
          <td [attr.rowspan]="schedule.rowSpan" [ngClass]="isRowScheduled(schedule) ? 'table-td table-td-scheduled' : '' " >{{ schedule.note }}</td>
          <td [attr.rowspan]="schedule.rowSpan" [ngClass]="isRowScheduled(schedule) ? 'table-td table-td-scheduled' : '' " >
            <span *ngIf="scheduleStatus[schedule.status]" [ngClass]="'table-status status-' + scheduleStatus[schedule.status].toLowerCase() ">
              {{ scheduleStatus[schedule.status] }}
            </span>
          </td>
        </ng-container>
      </tr>
    </ng-container>

  </tbody>
</table>
